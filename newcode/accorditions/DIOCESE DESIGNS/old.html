<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixabay Music Player</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
    }
    .song-card {
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .song-card:hover {
      transform: scale(1.05);
    }
    .song-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3rem;
      color: white;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .song-card:hover .play-icon {
      opacity: 1;
    }
    /* Modal player */
    .modal-content {
      background: #222;
      border-radius: 15px;
      text-align: center;
    }
    .modal-body img {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
      border-radius: 15px;
    }
    .song-info {
      margin-top: 15px;
      font-size: 0.9rem;
      color: #ccc;
    }
    .controls i {
      font-size: 2rem;
      margin: 10px;
      cursor: pointer;
      color: #fff;
    }
    .controls i:hover {
      color: #ff4444;
    }
    .volume-control {
      width: 100%;
      margin: 15px 0;
    }
  </style>
</head>
<body>

<div class="container py-5">
  <h1 class="text-center mb-4">ðŸŽµ Free Music from Pixabay</h1>
  <div class="row g-4" id="songList">
    <!-- Songs will be inserted here -->
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="musicModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title">Now Playing</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <img id="albumImage" src="" alt="Album Cover">
        <h4 id="songTitle" class="mt-3"></h4>
        <div class="song-info" id="songMeta"></div>

        <audio id="audioPlayer" controls style="width:100%; margin-top:15px;">
          <source id="audioSource" src="">
        </audio>

        <div class="controls">
          <i class="fa-solid fa-backward" id="prevBtn"></i>
          <i class="fa-solid fa-play" id="playBtn"></i>
          <i class="fa-solid fa-pause" id="pauseBtn"></i>
          <i class="fa-solid fa-stop" id="stopBtn"></i>
          <i class="fa-solid fa-forward" id="nextBtn"></i>
        </div>

        <input type="range" id="volumeControl" class="volume-control" min="0" max="1" step="0.01" value="1">
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
const songs = [
  {
    title: "Inspiring Cinematic Ambient",
    src: "https://cdn.pixabay.com/download/audio/2023/07/20/audio_9a56415b45.mp3?filename=inspiring-cinematic-ambient-14764.mp3",
    img: "https://picsum.photos/id/237/600/400",
    album: "Ambient Collection",
    composer: "Pixabay Artist",
    director: "Creative Studio",
    genre: "Ambient"
  },
  {
    title: "Upbeat Pop",
    src: "https://cdn.pixabay.com/download/audio/2023/07/20/audio_aa2f1e79c7.mp3?filename=upbeat-pop-14765.mp3",
    img: "https://picsum.photos/id/238/600/400",
    album: "Pop Hits",
    composer: "Pixabay Artist",
    director: "Music House",
    genre: "Pop"
  },
  {
    title: "Epic Trailer",
    src: "https://cdn.pixabay.com/download/audio/2023/07/20/audio_aa2f1e79c8.mp3?filename=epic-trailer-14766.mp3",
    img: "https://picsum.photos/id/239/600/400",
    album: "Epic Collection",
    composer: "Pixabay Artist",
    director: "CineMagic",
    genre: "Epic"
  }
];

let currentIndex = 0;
const songList = document.getElementById("songList");
const audioPlayer = document.getElementById("audioPlayer");
const audioSource = document.getElementById("audioSource");
const songTitle = document.getElementById("songTitle");
const albumImage = document.getElementById("albumImage");
const songMeta = document.getElementById("songMeta");

songs.forEach((song, i) => {
  const col = document.createElement("div");
  col.className = "col-md-4";
  col.innerHTML = `
    <div class="song-card" data-index="${i}" data-bs-toggle="modal" data-bs-target="#musicModal">
      <img src="${song.img}" alt="${song.title}">
      <i class="fa-solid fa-play play-icon"></i>
    </div>
    <p class="text-center mt-2">${song.title}</p>
  `;
  songList.appendChild(col);
});

function loadSong(index) {
  const song = songs[index];
  audioSource.src = song.src;
  audioPlayer.load();
  albumImage.src = song.img;
  songTitle.textContent = song.title;
  songMeta.innerHTML = `
    <p><b>Album:</b> ${song.album}</p>
    <p><b>Music composed by:</b> ${song.composer}</p>
    <p><b>Director:</b> ${song.director}</p>
    <p><b>Genre:</b> ${song.genre}</p>
  `;
  audioPlayer.play();
}

document.querySelectorAll(".song-card").forEach(card => {
  card.addEventListener("click", () => {
    currentIndex = parseInt(card.getAttribute("data-index"));
    loadSong(currentIndex);
  });
});

// Controls
document.getElementById("playBtn").onclick = () => audioPlayer.play();
document.getElementById("pauseBtn").onclick = () => audioPlayer.pause();
document.getElementById("stopBtn").onclick = () => { audioPlayer.pause(); audioPlayer.currentTime = 0; };
document.getElementById("nextBtn").onclick = () => { currentIndex = (currentIndex + 1) % songs.length; loadSong(currentIndex); };
document.getElementById("prevBtn").onclick = () => { currentIndex = (currentIndex - 1 + songs.length) % songs.length; loadSong(currentIndex); };
document.getElementById("volumeControl").oninput = e => { audioPlayer.volume = e.target.value; };
</script>

</body>
</html>
